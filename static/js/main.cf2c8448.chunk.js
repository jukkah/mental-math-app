(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,n,t){e.exports=t(27)},26:function(e,n,t){},27:function(e,n,t){"use strict";t.r(n);var r={};t.r(r),t.d(r,"store",function(){return P});var a=t(0),o=t.n(a),c=t(4),i=t.n(c),u=t(5),l=function(e){var n=e.children,t=e.value,r=e.onClick;return o.a.createElement("button",{className:"button",onClick:Object(a.useCallback)(function(){return r(t)},[r,t])},n||t)},s=function(e){var n=e.onChange;return o.a.createElement("div",{className:"numpad"},o.a.createElement(l,{value:"1",onClick:n}),o.a.createElement(l,{value:"2",onClick:n}),o.a.createElement(l,{value:"3",onClick:n}),o.a.createElement(l,{value:"4",onClick:n}),o.a.createElement(l,{value:"5",onClick:n}),o.a.createElement(l,{value:"6",onClick:n}),o.a.createElement(l,{value:"7",onClick:n}),o.a.createElement(l,{value:"8",onClick:n}),o.a.createElement(l,{value:"9",onClick:n}),o.a.createElement(l,{value:",",onClick:n}),o.a.createElement(l,{value:"0",onClick:n}),o.a.createElement(l,{value:"clear",onClick:n},o.a.createElement("i",{className:"material-icons"},"backspace")))},f=function(e){var n=e.children,t=e.className,r=e.onClick;return o.a.createElement("div",{className:t+" field",onClick:r},n)},d=Object(u.b)(function(e){var n=e.store;return{equation:n.equation,answer:n.answer,valid:n.valid}},function(e){var n=e.store;return{updateAnswer:n.updateAnswerAsync,newFormula:n.newFormulaAsync}})(function(e){var n=e.equation,t=e.answer,r=e.valid,c=e.updateAnswer,i=e.newFormula;return o.a.createElement("div",{className:"page"},o.a.createElement(f,{onClick:Object(a.useCallback)(function(e){return 3===e.detail&&i()},[i])},n),o.a.createElement(f,{className:r?"":"error"},t),o.a.createElement(s,{onChange:c}))}),w=t(13),m=t(10),v=t.n(m),p=t(14),g=t(1),h=function(e){var n;e=k(e);do{n=e,e=b(e),e=E(e),e=C(e),e=A(e),e=j(e),e=y(e)}while(isNaN(e)||e!==n);return e},k=function(e){return e.replace(/ /g,"")},b=function(e){return e.replace(/\((\d+)\)/g,function(e,n){return n})},E=function(e){return e.replace(/(\d+)\^(\d+)/g,function(e,n,t){return String(Math.pow(n,t))})},C=function(e){return e.replace(/(\d+)[\xd7\xb7*](\d+)/g,function(e,n,t){return String(n*t)})},A=function(e){return e.replace(/(\d+)[\xf7\/](\d+)/g,function(e,n,t){return"0"===t?"NaN":String(n/t)})},j=function(e){return e.replace(/(\d+)[+](\d+)/g,function(e,n,t){return String(+n+ +t)})},y=function(e){return e.replace(/(\d+)[-\u2212](\d+)/g,function(e,n,t){return String(n-t)})},N=function(e,n){return O(Object(g.a)({},e,{formula:n}))},O=function(e){return q(Object(g.a)({},e,{equation:(n=e.formula,n.replace(/#+/g,function(e){return Math.floor(Math.random()*Math.pow(10,e.length))}))}));var n},x=function(e,n){return"clear"===n?W(e):M(e,e.answer+n)},S=function(e){return Object(g.a)({},e,{answer:""})},q=function(e){return W(Object(g.a)({},e,{correctAnswer:h(e.equation)}))},W=function(e){return F(S(e))},F=function(e){return Object(g.a)({},e,{valid:!0})},M=function(e,n){return T(Object(g.a)({},e,{answer:n}))},T=function(e){return Object(g.a)({},e,{valid:e.answer===e.correctAnswer||e.answer.length<e.correctAnswer.length})},P={state:N({},"#"),reducers:{clearAnswer:function(e){return S(e)},updateAnswer:function(e,n){return x(e,n)},newEquation:function(e){return O(e)},newFormula:function(e,n){return N(e,n)}},effects:function(e){return{updateAnswerAsync:function(){var n=Object(p.a)(v.a.mark(function n(t,r){return v.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.store.updateAnswer(t);case 2:if(!U(r.store,t)){n.next=9;break}return n.next=5,B(300);case 5:return n.next=7,e.store.clearAnswer();case 7:n.next=14;break;case 9:if(!R(r.store,t)){n.next=14;break}return n.next=12,B(200);case 12:return n.next=14,e.store.newEquation();case 14:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}(),newFormulaAsync:function(n){var t=prompt("Type new formula (# is digit placeholder)");t&&e.store.newFormula(t)}}}};function R(e,n){var t=x(e,n);return t.answer===t.correctAnswer}function U(e,n){return!x(e,n).valid}function B(e){return new Promise(function(n){return setTimeout(n,e)})}var J=Object(w.init)({models:r}),L=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function I(e,n){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}t(26);i.a.render(o.a.createElement(u.a,{store:J},o.a.createElement(d,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/mental-math-app",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var n="".concat("/mental-math-app","/service-worker.js");L?(function(e,n){fetch(e).then(function(t){var r=t.headers.get("content-type");404===t.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):I(e,n)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(n,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):I(n,e)})}}()}},[[15,1,2]]]);
//# sourceMappingURL=main.cf2c8448.chunk.js.map